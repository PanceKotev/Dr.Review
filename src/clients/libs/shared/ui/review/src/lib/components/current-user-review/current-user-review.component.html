<div class="curr-user-container">
  <div class="curr-rating">
    <div class="label">
      <h2>Рејтинг</h2>
    </div>
    <drreview-rating
      [value]="rating"
      [readOnly]="!isEditMode"
    ></drreview-rating>
  </div>
  <div class="comment">
    <div class="label"><h2>Опис</h2></div>
    <quill-editor
      *ngIf="isEditMode; else notEdit"
      class="quill-comment"
      [preserveWhitespace]="true"
      [(ngModel)]="comment"
      (ngModelChange)="modelChanged()"
      placeholder="Внеси опис овде..."
      [maxLength]="1000"
    >
      <div quill-editor-toolbar>
        <span class="ql-formats">
          <select class="ql-size">
            <option value="small"></option>
            <option selected></option>
            <option value="large"></option>
            <option value="huge"></option>
          </select>
        </span>
        <span class="ql-formats">
          <button class="ql-bold"></button>
          <button class="ql-italic"></button>
          <button class="ql-underline"></button>
          <button class="ql-strike"></button>
        </span>
        <span class="ql-formats">
          <select class="ql-color"></select>
          <select class="ql-background"></select>
        </span>
        <span class="ql-formats">
          <button class="ql-list" value="ordered"></button>
          <button class="ql-list" value="bullet"></button>
          <select class="ql-align">
            <option selected></option>
            <option value="center"></option>
            <option value="right"></option>
            <option value="justify"></option>
          </select>
        </span>
        <span class="ql-formats">
          <button class="ql-link"></button>
        </span>
      </div>
    </quill-editor>
    <ng-template #notEdit>
      <quill-view-html
        class="readonly-quill"
        [content]="comment ?? 'Немате оставено коментар...'"
        [sanitize]="true"
      ></quill-view-html>
    </ng-template>
  </div>
</div>
<div class="action-buttons">
  <button
    mat-raised-button
    *ngIf="!isEditMode"
    color="accent"
    (click)="toggleEdit()"
  >
    Едитирај
  </button>
  <button mat-raised-button *ngIf="isEditMode" (click)="saveComment()">
    Зачувај
  </button>
  <button mat-raised-button *ngIf="isEditMode" (click)="cancelComment()">
    Откажи
  </button>
  <button mat-raised-button *ngIf="isEditMode" (click)="resetComment()">
    Ресетирај
  </button>
</div>
